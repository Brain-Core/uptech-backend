{"version":3,"sources":["../source/app.js"],"names":["app","use","express","json","process","env","NODE_ENV","static","path","join","__dirname","get","req","res","sendFile","send","productRoute","partnersRoute","teamRoute","impactRoute","bannerRoute","swaggerUi","serve","setup","swaggerDoc","port","PORT","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;;AAGAA,IAAIC,GAAJ,CAAQ,qBAAR;AACAD,IAAIC,GAAJ,CAAQC,kBAAQC,IAAR,EAAR;;AAGA;AACA,IAAGC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA5B,EAAyC;AACrCN,QAAIC,GAAJ,CAAQC,kBAAQK,MAAR,CAAeC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,iBAArB,CAAf,CAAR;;AAEAV,QAAIW,GAAJ,CAAQ,GAAR,EAAY,UAACC,GAAD,EAAKC,GAAL,EAAW;AACnBA,YAAIC,QAAJ,CAAaN,eAAKC,IAAL,CAAUC,SAAV,EAAoB,QAApB,EAA6B,OAA7B,EAAqC,YAArC,CAAb;AACH,KAFD;AAGH,CAND,MAMO;AACHV,QAAIW,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAKC,GAAL,EAAW;AACpBA,YAAIE,IAAJ,CAAS,aAAT;AACH,KAFD;AAGH;;AAGD;AACAf,IAAIC,GAAJ,CAAQ,WAAR,EAAqBe,iBAArB;;AAEA;AACAhB,IAAIC,GAAJ,CAAQ,WAAR,EAAqBgB,iBAArB;;AAGA;AACAjB,IAAIC,GAAJ,CAAQ,QAAR,EAAiBiB,cAAjB;;AAEA;AACAlB,IAAIC,GAAJ,CAAQ,UAAR,EAAoBkB,gBAApB;;AAEA;AACAnB,IAAIC,GAAJ,CAAQ,SAAR,EAAmBmB,gBAAnB;;AAEA;AACApB,IAAIC,GAAJ,CAAQ,OAAR,EAAiBoB,2BAAUC,KAA3B,EAAkCD,2BAAUE,KAAV,CAAgBC,iBAAhB,CAAlC;;AAGA,IAAMC,OAAOrB,QAAQC,GAAR,CAAYqB,IAAZ,IAAoB,IAAjC;;AAEA1B,IAAI2B,MAAJ,CAAWF,IAAX,EAAiB;AAAA,WAAMG,QAAQC,GAAR,mCAA4CJ,IAA5C,CAAN;AAAA,CAAjB","file":"app.js","sourcesContent":["import express from 'express';\nimport swaggerUi from 'swagger-ui-express';\nimport 'dotenv/config';\nimport productRoute from './routes/product.route';\nimport partnersRoute from './routes/partner.route';\nimport teamRoute from './routes/team.route';\nimport bannerRoute from './routes/banner.route';\nimport cors from 'cors'\nimport impactRoute from './routes/impact.route';\nimport swaggerDoc from '../swagger.json'\nimport path from 'path';\n\nconst app = express();\n\n\napp.use(cors());\napp.use(express.json())\n\n\n//\nif(process.env.NODE_ENV === 'production'){\n    app.use(express.static(path.join(__dirname, '../client/build')));\n\n    app.get(\"/\",(req,res)=>{\n        res.sendFile(path.join(__dirname,'client','build','index.html'))\n    })\n} else {\n    app.get('/', (req,res)=>{\n        res.send('Api running');\n    })\n}\n\n\n// products endpoints\napp.use('/products', productRoute);\n\n// partners endpoints\napp.use('/partners', partnersRoute);\n\n\n// team members endpoints\napp.use('/teams',teamRoute)\n\n//impacts\napp.use('/impacts', impactRoute)\n\n//banner routes\napp.use('/banner', bannerRoute);\n\n// docs \napp.use('/docs', swaggerUi.serve, swaggerUi.setup(swaggerDoc));\n\n\nconst port = process.env.PORT || 3030;\n\napp.listen(port, () => console.log(`UP-Tech backend listening on ${port}`));"]}