{"version":3,"sources":["../../source/routes/api.js"],"names":["router","require","Router","About","upload","get","req","res","json","post","single","newAbout","about","text","save","saveAbout","errorMessage","findById","params","id","put","newAboutData","aboutUpdated","findByIdAndUpdate","_id","new","module","exports"],"mappings":";;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,EAAmBC,MAAnB,EAAf;;AAEA,IAAMC,QAAQF,QAAQ,uBAAR,CAAd;;eAEmBA,QAAQ,kBAAR,C;IAAXG,M,YAAAA,M;;AAER;;AAEA;;;AACAJ,OAAOK,GAAP,CAAW,UAAX,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjCA,QAAIC,IAAJ,CAAS,iCAAT;AACH,CAFD;;AAKA;;AAEA;AACAR,OAAOS,IAAP,CAAY,QAAZ,EAAsBL,OAAOM,MAAP,CAAc,OAAd,CAAtB;AAAA,uEAA8C,iBAAOJ,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEhCI,gCAFgC,GAErB,IAAIC,KAAJ,CAAU,EAACC,MAAMP,IAAIO,IAAX,EAAV,CAFqB;AAAA;AAAA,+BAIdF,SAASG,IAAT,EAJc;;AAAA;AAIhCC,iCAJgC;AAAA,yDAK/BR,IAAIC,IAAJ,CAASO,SAAT,CAL+B;;AAAA;AAAA;AAAA;AAAA,yDAQ/BR,IAAIC,IAAJ,CAAS,EAACQ,yBAAD,EAAT,CAR+B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA9C;;AAAA;AAAA;AAAA;AAAA;;AAYA;AACAhB,OAAOK,GAAP,CAAW,YAAX;AAAA,wEAAyB,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEGJ,MAAMc,QAAN,CAAeX,IAAIY,MAAJ,CAAWC,EAA1B,CAFH;;AAAA;AAEXP,8BAFW;AAAA,0DAGVL,IAAIC,IAAJ,CAASI,MAAT,CAHU;;AAAA;AAAA;AAAA;AAAA,0DAMVL,IAAIC,IAAJ,CAAS,EAACQ,0BAAD,EAAT,CANU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAzB;;AAAA;AAAA;AAAA;AAAA;;AAUA;AACAhB,OAAOoB,GAAP,CAAW,YAAX;AAAA,wEAAyB,kBAAOd,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEXc,oCAFW,GAEI,EAACR,MAAMP,IAAIO,IAAX,EAFJ;AAIXS,oCAJW,GAIInB,MAAMoB,iBAAN,CAAwB,EAACC,KAAIlB,IAAIY,MAAJ,CAAWC,EAAhB,EAAxB,EAA6CE,YAA7C,EAA2D,EAACI,KAAK,IAAN,EAA3D,CAJJ;AAAA,0DAKVlB,IAAIC,IAAJ,CAASc,YAAT,CALU;;AAAA;AAAA;AAAA;AAAA,0DAQVf,IAAIC,IAAJ,CAAS,EAACQ,0BAAD,EAAT,CARU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAzB;;AAAA;AAAA;AAAA;AAAA;;AAYA;;;AAIAU,OAAOC,OAAP,GAAiB3B,MAAjB","file":"api.js","sourcesContent":["const router = require('express').Router();\n\nconst About = require('../models/about.model');\n\nconst { upload } = require('../helper/helper');\n\n//  ############ API TEST ###################\n\n// test routes\nrouter.get('/testAPI', (req, res) => {\n    res.json('UP-Tech API works perfectly ...')\n});\n\n\n//  ############ ABOUT ###################\n\n// save the about\nrouter.post('/about', upload.single('photo'), async (req, res) => {\n    try {\n        const newAbout = new about({text: req.text});\n\n        const saveAbout = await newAbout.save();\n        return res.json(saveAbout);\n        \n    } catch (error) {\n        return res.json({errorMessage: error});\n    }\n});\n\n// get the about\nrouter.get('/about/:id', async (req, res) => {\n    try {\n        const about = await About.findById(req.params.id);\n        return res.json(about);\n        \n    } catch (error) {\n        return res.json({errorMessage: error});\n    }\n});\n\n// update the about\nrouter.put('/about/:id', async (req, res) => {\n    try {\n        const newAboutData = {text: req.text};\n\n        const aboutUpdated = About.findByIdAndUpdate({_id:req.params.id}, newAboutData, {new: true});\n        return res.json(aboutUpdated);\n        \n    } catch (error) {\n        return res.json({errorMessage: error});\n    }\n});\n\n//  ############ TEAM ###################\n\n\n\nmodule.exports = router;"]}